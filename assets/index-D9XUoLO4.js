var m=Object.defineProperty;var g=(o,t,n)=>t in o?m(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n;var u=(o,t,n)=>g(o,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerPolicy&&(i.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?i.credentials="include":e.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(e){if(e.ep)return;e.ep=!0;const i=n(e);fetch(e.href,i)}})();function y(o){return Array(o).fill(null).map(()=>({x:Math.random()*2-1,y:Math.random()*2-1,z:Math.random()*2-1}))}class x{constructor(t){u(this,"angles",{x:0,y:0,z:0});u(this,"points");u(this,"onChange");this.points=y(t)}setAngle(t,n){var s;this.angles[t]=n,(s=this.onChange)==null||s.call(this,this)}}const p=5;class C{constructor(t){u(this,"ctx");u(this,"shape");this.ctx=t.getContext("2d"),this.shape=[t.width,t.height]}transform(t,n){const[s,e]=this.shape;return[s/2*(1+t),e/2*(1-n)]}pointSize(t){return p*(1+t)}point(t,n,s=0){this.ctx.fillStyle="white";const[e,i]=this.transform(t,n),r=p/2,c=this.pointSize(s);this.ctx.fillRect(e-r,i-r,c,c)}pointCircle(t,n,s=0){const[e,i]=this.transform(t,n);this.ctx.beginPath();const r=this.pointSize(s);this.ctx.arc(e,i,r,0,2*Math.PI,!1),this.ctx.fillStyle="white",this.ctx.fill()}clear(){this.ctx.clearRect(0,0,...this.shape)}}function M({x:o,y:t,z:n}){const s=[o,t,n],[e,i,r]=s.map(Math.sin),[c,a,l]=s.map(Math.cos);return[[a*l,-r*a,i],[e*i*l+r*c,-e*i*r+c*l,-e*a],[e*r-i*c*l,e*l+i*r*c,c*a]]}function I(o,t){const n=["x","y","z"],[s,e,i]=o.map(r=>r.reduce((c,a,l)=>c+a*t[n[l]],0));return{x:s,y:e,z:i}}function h(o,t){o.clear();const{points:n,angles:s}=t,e=M(s);for(const i of n){const{x:r,y:c,z:a}=I(e,i),l=a/2;o.pointCircle(r,c,l)}}function z(o,t){const n=new C(o);h(n,t),t.onChange=s=>h(n,s)}const d=(o,t)=>`${o}: ${t}`;function S(o,t,n,s=1){const e=document.createElement("input");return e.type="range",e.min=(o*s).toString(),e.max=(t*s).toString(),e.value=(n*s).toString(),e}function L(o,t=0,n){const s=document.createElement("div");s.className="input-container";const e=document.createElement("span");e.innerHTML=d(o,t);const i=100,r=S(0,Math.PI*2,t,i);return r.addEventListener("input",c=>{const a=parseInt(c.target.value)/i;e.innerHTML=d(o,a),n==null||n(a)}),s.appendChild(e),s.appendChild(r),s}function v(o,t){for(const n of["x","y","z"]){const s=L(n,t.angles[n],e=>t.setAngle(n,e));o.appendChild(s)}}const f=new x(100),P=document.getElementById("game-canvas"),E=document.getElementById("inputs");z(P,f);v(E,f);
